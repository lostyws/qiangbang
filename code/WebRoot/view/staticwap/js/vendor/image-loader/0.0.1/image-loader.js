define("image-loader",["../../underscore/1.7.0/underscore"],function(e,r,t){var o=e("../../underscore/1.7.0/underscore"),s={thread:3},n={IDLE:0,TASK_ARRIVAL:1},a=function(e){var r=this;e=e||{},e=o.extend(s,e),r.threads=e.threads,r.queue=[],r.workers=function(){for(var e=[],t=0;t<r.threads;t++)e.push(new Image);return e}()};a.prototype.task=function(e,r){var t=this;return t.queue.push({task:e,callback:r}),t._notify(n.TASK_ARRIVAL),t},a.prototype._processIdle=function(){var e=this;e.queue.length},a.prototype._proceseTaskArrival(),a.prototype._notify=function(e){var r=this;e===n.IDLE?r._processIdle():(e=n.TASK_ARRIVAL)&&r._processTaskArrival()},t.exports=a});
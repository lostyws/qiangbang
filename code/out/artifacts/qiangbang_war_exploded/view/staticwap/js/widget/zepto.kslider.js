define("zepto.kslider",["zepto"],function(t){var n=t("zepto");!function(t){t.fn.slider=function(n){n=t.extend({},{className:"ks_wt_1"},n);var e,a,i=t(this),s=i.find(".ks_dbox"),o=i.find(".ks_wt"),r={initX:0,initY:0,startX:0,endX:0,startY:0,canmove:!1},c=0;i.toggleClass(n.className,!0),n.maxWidth&&i.css({maxWidth:n.maxWidth}),n.minWidth&&i.css({mixWidth:n.minWidth}),o.on("click",function(n){n.target!=this&&u(t(n.target).index())}),i.on("touchstart",function(n){var e=n.touches[0];0!=t(e.target).closest(".ks_dbox").length&&(r.canmove=!0,r.initX=r.startX=e.pageX,r.initY=e.pageY,X())}).on("touchmove",function(t){var n=t.touches[0];r.canmove&&Math.abs(n.pageY-r.initY)/Math.abs(n.pageX-r.initX)<.6&&(s.removeClass("ks_ts").css("-webkit-transform","translate3d("+(r.endX+=n.pageX-r.startX)+"px,0,0)"),r.startX=n.pageX,t.preventDefault())}).on("touchend",function(t){if(r.canmove){s.toggleClass("ks_ts",!0),e=s.width();var n=!1,a=Math.abs(r.endX/e);if(r.endX>0?(a=r.endX=0,n=!0):r.endX<-e*(s.children().length-1)&&(a=s.children().length-1,n=!0),!n&&r.endX%e!=0){var i=parseInt((a+"").split(".")[1][0]);a=t.changedTouches[0].pageX>r.initX?9>=i?Math.floor(Math.abs(a)):Math.abs(Math.round(r.endX/e)):i>=1?Math.floor(Math.abs(a))+1:Math.abs(Math.round(r.endX/e))}u(a),g(),r.canmove=!1}});var d=function(t){s.css("-webkit-transform","translate3d("+(r.endX=t)+"px,0,0)")},h=function(t){r.endX=t},l=function(t){return 0>t?0:t>=s.children().length?s.children().length-1:t},u=function(t){t=l(t),e=s.width(),d(-e*t),f(t),c!=t&&n.change&&n.change(t),c=t},f=function(t){0!=o.length&&o.children().toggleClass("ks_t2",!1).eq(t).toggleClass("ks_t2",!0)},g=function(){n.tick&&(a&&X(),a=setInterval(function(){u(c>=s.children().length-1?0:c+1)},n.tick))},X=function(){clearInterval(a),a=null};return g(),{add:function(t,n){return o.append("<li>"+t+"</li>"),s.append('<div class="ks_warp">'+n+"</div>"),this},remove:function(t){return 1!=o.children().length?(t=l(t),o.children().eq(t).remove(),s.children().eq(t).remove(),t==c&&u(0),this):void 0},tab:function(t){return t?u(t):c},toIndex:function(t){h(t)}}}}(n)});